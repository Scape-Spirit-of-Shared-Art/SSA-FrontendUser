<div class="event-page">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <p>Loading event...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-container">
    <p>{{ error }}</p>
    <button (click)="loadFirstEvent()" class="retry-button">Retry</button>
  </div>

  <!-- Event Content -->
  <div *ngIf="event && !loading && !error">
    <!-- Hero Section -->
    <section class="hero-section">
      <img 
        [src]="getEventImage()" 
        [alt]="event.name" 
        class="hero-image"
      />
      <h1 class="event-title">{{ event.name }}</h1>
    </section>

    <!-- Event Description -->
    <section class="description-section">
      <p class="event-description">{{ event.bio }}</p>
    </section>

    <!-- Schedule Section -->
    <section class="schedule-section" *ngIf="event.program && event.program.length > 0">
      <h2 class="section-heading">Schedule</h2>
      <div class="program-list">
        <div *ngFor="let item of event.program" class="program-item">
          {{ item }}
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
      <h2 class="section-heading">CONTACT</h2>
      
      <div class="contact-info">
        <!-- Website -->
        <div class="contact-item" *ngIf="event.website">
          <svg class="contact-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 12H7M2 12C2 16.9706 6.02944 21 11 21M2 12C2 7.02944 6.02944 3 11 3M7 12H15M7 12C7 16.9706 8.79086 21 11 21M7 12C7 7.02944 8.79086 3 11 3M15 12H20M15 12C15 7.02944 13.2091 3 11 3M15 12C15 16.9706 13.2091 21 11 21M20 12C20 7.02944 15.9706 3 11 3M20 12C20 16.9706 15.9706 21 11 21" stroke="#3A4F4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <a 
            [href]="event.website" 
            target="_blank" 
            class="contact-link underline"
            (click)="onWebsiteClick()"
          >
            website
          </a>
        </div>

        <!-- Email -->
        <div class="contact-item" *ngIf="event.email">
          <svg class="contact-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 29L9.10764 33.6123L9.10967 33.614C9.78785 34.1113 10.1271 34.3601 10.4988 34.4562C10.8272 34.5412 11.1725 34.5412 11.501 34.4562C11.8729 34.36 12.2132 34.1105 12.8926 33.6123C12.8926 33.6123 16.8101 30.6059 19 29M2 38.8002V31.2002C2 30.0801 2 29.5196 2.21799 29.0918C2.40973 28.7155 2.71547 28.4097 3.0918 28.218C3.51962 28 4.08009 28 5.2002 28H16.8002C17.9203 28 18.4796 28 18.9074 28.218C19.2837 28.4097 19.5905 28.7155 19.7822 29.0918C20 29.5192 20 30.079 20 31.1969V38.8036C20 39.9215 20 40.4805 19.7822 40.9079C19.5905 41.2842 19.2837 41.5905 18.9074 41.7822C18.48 42 17.921 42 16.8031 42H5.19691C4.07899 42 3.5192 42 3.0918 41.7822C2.71547 41.5905 2.40973 41.2842 2.21799 40.9079C2 40.4801 2 39.9203 2 38.8002Z" stroke="#3A4F4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="contact-text">{{ event.email }}</span>
        </div>

        <!-- Phone -->
        <div class="contact-item" *ngIf="event.phone_number">
          <svg class="contact-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.50246 65.2572C7.19873 64.4979 6.46332 64 5.64551 64H2.89474C1.8483 64 1 64.8481 1 65.8945C1 74.7892 8.21078 82 17.1055 82C18.1519 82 19 81.1516 19 80.1052L19.0005 77.354C19.0005 76.5361 18.5027 75.8009 17.7434 75.4971L15.1069 74.4429C14.4249 74.1701 13.6483 74.2929 13.0839 74.7632L12.4035 75.3307C11.6089 75.9929 10.4396 75.9402 9.7082 75.2088L7.79222 73.2911C7.06079 72.5596 7.00673 71.3913 7.66895 70.5967L8.23633 69.9163C8.70661 69.352 8.83049 68.5752 8.55766 67.8931L7.50246 65.2572Z" stroke="#354B48" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="contact-text">{{ event.phone_number }}</span>
        </div>

        <!-- Address -->
        <div class="contact-item" *ngIf="event.address">
          <svg class="contact-icon" width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 95V110M14 95L20 92V107L14 110M14 95L8 92M14 110L8 107M8 107L2 110V95L8 92M8 107V92" stroke="#354B48" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <div class="contact-text address">
            <span>{{ event.address }}</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Get Tickets Button -->
    <section class="cta-section" *ngIf="event.website">
      <button class="get-tickets-btn" (click)="onGetTickets()">
        Get tickets
      </button>
    </section>
  </div>

  <!-- Navbar -->
  <app-navbar></app-navbar>
</div>
