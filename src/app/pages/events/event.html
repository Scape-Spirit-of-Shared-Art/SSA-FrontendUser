<div class="event-page">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <p>Loading event...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-container">
    <p>{{ error }}</p>
    <button (click)="goBack()" class="retry-button">Go Back</button>
  </div>

  <!-- Event Content -->
  <div *ngIf="event && !loading && !error">
    <!-- Hero Section -->
    <section class="hero-section">
      <img 
        [src]="getEventImage()" 
        [alt]="event.name" 
        class="hero-image"
      />
      <h1 class="event-title">{{ event.name }}</h1>
      <svg 
        class="favorite-icon" 
        [class.active]="isEventFavorite"
        (click)="toggleEventFavorite()"
        width="24" 
        height="22" 
        viewBox="0 0 24 22" 
        fill="none" 
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M12.5 5.67998C10.1667 0.203146 2 0.786478 2 7.78652C2 14.7865 12.5 20.62 12.5 20.62C12.5 20.62 23 14.7865 23 7.78652C23 0.786478 14.8333 0.203146 12.5 5.67998Z" stroke="#FEF5E6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </section>

    <!-- Event Description -->
    <section class="description-section">
      <p class="event-description">{{ event.bio }}</p>
    </section>

    <!-- Schedule Section -->
    <section class="schedule-section" *ngIf="event.program && event.program.length > 0">
      <h2 class="section-heading">Schedule</h2>
      <div class="program-list">
        <div *ngFor="let item of event.program" class="program-item">
          {{ item }}
        </div>
      </div>
    </section>

    <!-- Contact Section and Get Tickets Button -->
    <div *ngIf="!showTicketInput">
      <!-- Contact Section -->
      <section class="contact-section">
        <h2 class="section-heading">CONTACT</h2>
        
        <div class="contact-info">
          <!-- Website -->
          <div class="contact-item" *ngIf="event.website">
            <img src="/Vector.png" alt="Vector" class="contact-vector">
            <a 
              [href]="event.website" 
              target="_blank" 
              class="contact-link underline"
              (click)="onWebsiteClick()"
            >
              website
            </a>
          </div>

          <!-- Email -->
          <div class="contact-item" *ngIf="event.email">
            <img src="/Vector-1.png" alt="Vector 1" class="contact-vector">
            <span class="contact-text">{{ event.email }}</span>
          </div>

          <!-- Phone -->
          <div class="contact-item" *ngIf="event.phone_number">
            <img src="/Vector-2.png" alt="Vector 2" class="contact-vector">
            <span class="contact-text">{{ event.phone_number }}</span>
          </div>

          <!-- Address -->
          <div class="contact-item" *ngIf="event.address">
            <img src="/Vector-3.png" alt="Vector 3" class="contact-vector">
            <div class="contact-text address">
              <span>{{ event.address }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Get Tickets Button -->
      <section class="cta-section" *ngIf="event.website">
        <button class="get-tickets-btn" (click)="onGetTickets()">
          Get tickets
        </button>
      </section>
    </div>

    <!-- Ticket Input Component -->
    <div *ngIf="showTicketInput" class="ticket-input-section">
      <app-input-events></app-input-events>
    </div>
  </div>

  <!-- Navbar -->
  <app-navbar></app-navbar>
</div>
